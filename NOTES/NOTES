ğŸ”· Introduction â€“ React Fiber kya hai?
React Fiber React ke core algorithm ka naya version (reimplementation) hai.
Is par React team ne 2+ saal research ki hai.

Fiber ka main goal
React ko in cheezon ke liye zyada suitable banana:
1. ğŸï¸ Animation
2.ğŸ“ Layout
3.âœ‹ Gestures (scroll, drag, swipe)

Sabse badi feature
ğŸ‘‰ Incremental Rendering

Matlab:
 1.Rendering ka kaam chhote parts (chunks) me todna
 2.Unhe multiple frames me complete karna

Isse:
1.UI smooth rehta hai
2.Frame drop nahi hota

ğŸ”· React Fiber ke extra features
React Fiber ye sab kar sakta hai:
1.â¸ï¸ Kaam pause karna
2.âŒ Be-kaar kaam abort karna
3.â™»ï¸ Purana kaam reuse karna
4.ğŸš¦ Alag-alag updates ko priority dena
5.âš¡ Concurrency (ek saath multiple kaam smartly)

ğŸ”· About this document (ye document kis liye hai?)
 1. Ye official React document nahi hai
 2. Author React team ka member nahi hai
 3. Ye notes React Fiber ka code follow karte hue likhe gaye
 4. Goal: Fiber ko simple language me samjhana

ğŸ‘‰ Ye document work-in-progress hai
ğŸ‘‰ Aage changes ho sakte hain

ğŸ”· Prerequisites (pehle kya aana chahiye?)
Fiber samajhne se pehle ye concepts aane chahiye:
1. React Components, Elements, Instances
2. Reconciliation
3. React ke basic theoretical concepts
4. React Design Principles (especially scheduling)

Agar pehli baar me sab clear na ho:
ğŸ‘‰ normal hai, time ke saath samajh aata hai ğŸ™‚

ğŸ”· Reconciliation kya hota hai?
reconciliation
ğŸ‘‰ React ka algorithm jo old tree aur new tree ko compare karta hai

update
ğŸ‘‰ Data change (usually setState) jo re-render trigger karta hai

Important idea
React developer ko lagta hai:
  â€œpoora app dubara render ho raha haiâ€

But reality me:
1. React sirf required parts update karta hai
2. Ye kaam reconciliation ke through hota hai

Virtual DOM (simple)
React memory me ek tree banata hai
Us tree ko DOM / Native UI me convert karta hai
Update aata hai â†’ naya tree banta hai
Dono trees ka diff hota hai
Sirf difference UI me apply hota hai

Reconciliation ke rules
1. Alag component types â†’ pura subtree replace
2. List diff â†’ keys ke basis par

ğŸ”· Reconciliation vs Rendering
Reconciler â†’ kya change hua ye decide karta hai
Renderer â†’ UI update karta hai (DOM / Native)

Isliye:
 .React DOM
 .React Native

ğŸ‘‰ Same reconciler share karte hain
âš ï¸ Fiber sirf reconciler ko rewrite karta hai, rendering ko nahi

ğŸ”· Scheduling kya hota hai?
scheduling
ğŸ‘‰ Kaam kab karna hai, ye decide karna
work
ğŸ‘‰ Computation jo update ki wajah se hota hai

React ka philosophy
React push model follow nahi karta
React pull model follow karta hai

Matlab:
1. Har update turant apply zaroori nahi
2. React khud decide kare:
  a. kaunsa kaam important hai
  b. kaunsa delay ho sakta hai

UI me priority ka example
 1. Button click animation â†’ high priority
 2. Background data render â†’ low priority

âš ï¸ Old React problem:
 1. Update aaya
 2. Pura subtree turant render
 3. Scheduling ka fayda nahi
ğŸ‘‰ Isi problem ko solve karne ke liye Fiber aaya

ğŸ”· What is a Fiber?
Ab hum Fiber ke core me aa gaye hain â¤ï¸
ğŸ‘‰ Fiber = unit of work
React ka har chhota kaam ek fiber hota hai.

React ko function ki tarah socho
 v = f(d)  // code
.f â†’ component
.d â†’ props/state
.v â†’ UI
Rendering = functions ke andar functions call hona

ğŸ”· Problem with call stack
Normal call stack:
1.Ek baar kaam start
2.Tab tak chalta rehta hai jab tak khatam na ho

UI me problem:
1. Zyada kaam = animation lag
2. Beech me new update aa jaye = purana kaam waste

ğŸ”· Browser APIs (solution ka aadha hissa)
1. requestAnimationFrame â†’ high priority
2. requestIdleCallback â†’ low priority

âŒ Problem:
  a. Ye tab kaam kare jab kaam tod sakte ho
Normal call stack:
ğŸ‘‰ kaam todne nahi deta

ğŸ”· React Fiber ka real kaam ğŸ”¥
ğŸ‘‰ React apna custom call stack banata hai
 1.Is stack ko kehte hain Fiber
 2.Har fiber = virtual stack frame

Isse React:
 1.kaam pause kar sakta hai
 2.resume kar sakta hai
 3.cancel kar sakta hai
 4.priority set kar sakta hai

ğŸ”· Fiber ka structure (andar kya hota hai)
Technically:
ğŸ‘‰ Fiber = JavaScript object
Isme component ki:
 a. info
 b. input
 c. output
sab hota hai

ğŸ”¹ Important Fiber fields
1ï¸âƒ£ type & key
1. type â†’ kaunsa component
a. function/class
b. ya "div", "span"
2. key â†’ reconciliation ke liye

2ï¸âƒ£ child & sibling
Fiber tree banata hai ğŸŒ³
Parent â†’ Child1 â†’ Child2
 a. child â†’ pehla child
 b. sibling â†’ next child

3ï¸âƒ£ return
1. Parent fiber ka reference
2. Call stack ke return address jaisa

4ï¸âƒ£ pendingProps & memoizedProps
1. pendingProps â†’ naye props
2. memoizedProps â†’ purane props
Agar dono same:
ğŸ‘‰ React kaam skip karta hai (performance boost)

5ï¸âƒ£ pendingWorkPriority
1. Number jo priority batata hai
2. Chhota number = zyada priority
Scheduler isi se decide karta hai:
ğŸ‘‰ next kaunsa fiber run kare

6ï¸âƒ£ alternate (double buffering)
Har component ke max 2 fibers:
1.current (screen par)
2.work-in-progress (ban raha)
3.Dono ek-dusre ke alternate
4.Memory optimize hoti hai

7ï¸âƒ£ output
1 Leaf nodes (div, span) output banate hain
2 Output upar pass hota hai
3 Renderer UI update karta hai

ğŸ”· Future sections me kya aayega?
1 Scheduler next work kaise choose karta hai
2 Priority kaise flow hoti hai
3 Pause / resume ka logic
4 Work flush kaise hota hai
5 Side effects (lifecycle, effects)
6 Coroutine & advanced features

ğŸ§  Final one-line summary
React Fiber React ka smart internal engine hai jo rendering ko tod-kar,
priority ke saath,pause-resume karke UI ko smooth banata hai.